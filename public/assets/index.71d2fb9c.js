import{_ as m,r as y,o as i,c as u,a as _,w as f,b as s,d as p,F as v,e as E,t as h,f as T,C as A,g as L,h as N,D as I,i as k,j as $,k as g,v as w,l as D,m as B,n as O,p as P,q as V,s as R,u as z,x as U,y as G,z as q}from"./vendor.8455ef4e.js";const H=function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))d(o);new MutationObserver(o=>{for(const n of o)if(n.type==="childList")for(const l of n.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&d(l)}).observe(document,{childList:!0,subtree:!0});function r(o){const n={};return o.integrity&&(n.integrity=o.integrity),o.referrerpolicy&&(n.referrerPolicy=o.referrerpolicy),o.crossorigin==="use-credentials"?n.credentials="include":o.crossorigin==="anonymous"?n.credentials="omit":n.credentials="same-origin",n}function d(o){if(o.ep)return;o.ep=!0;const n=r(o);fetch(o.href,n)}};H();const j={},J=s("h1",null,"Toy App",-1),K=p("Home"),W=p(" | "),Q=p("Charts"),X=p(" | "),Y=p("About");function Z(t,e){const r=y("router-link");return i(),u("header",null,[J,_(r,{class:"btn-home",to:"/"},{default:f(()=>[K]),_:1}),W,_(r,{class:"btn-charts",to:"/toy-chart"},{default:f(()=>[Q]),_:1}),X,_(r,{class:"btn-charts",to:"/about"},{default:f(()=>[Y]),_:1})])}var ee=m(j,[["render",Z]]);const te={name:"App",created(){this.$store.dispatch({type:"loadToys"})},components:{appHeader:ee}};function oe(t,e,r,d,o,n){const l=y("app-header"),c=y("router-view");return i(),u(v,null,[_(l),_(c)],64)}var se=m(te,[["render",oe]]);const ne={},re={class:"custom-card"};function le(t,e){return i(),u("article",re,[s("header",null,[E(t.$slots,"header")]),s("main",null,[E(t.$slots,"default")]),s("footer",null,[E(t.$slots,"footer")])])}var ie=m(ne,[["render",le]]);const ae={name:"toy-preview",props:{toy:Object},components:{customCard:ie},methods:{goToDetail(){this.$router.push(`/details/${this.toy._id}`)},goToEdit(){this.$router.push(`/edit/${this.toy._id}`)},removeToy(t){this.$emit("removeToy",t)}}},ue={class:"toy-preview"},ce=s("h4",null,"Labels:",-1),de=p(),ye={class:"btns-preview"};function pe(t,e,r,d,o,n){const l=y("custom-card");return i(),u("section",ue,[s("li",null,[_(l,null,{header:f(()=>[s("h2",null," Name: "+h(r.toy.name),1),s("h4",null," Price: "+h(r.toy.price),1),ce,de,(i(!0),u(v,null,T(r.toy.labels,c=>(i(),u("p",{key:c},h(c),1))),128))]),footer:f(()=>[s("section",ye,[s("button",{class:"btns-details",onClick:e[0]||(e[0]=(...c)=>n.goToDetail&&n.goToDetail(...c))},"Details"),s("button",{class:"btns-edit",onClick:e[1]||(e[1]=(...c)=>n.goToEdit&&n.goToEdit(...c))},"Edit"),s("button",{class:"btns-delete",onClick:e[2]||(e[2]=c=>n.removeToy(r.toy._id))},"Delete")])]),_:1})])])}var _e=m(ae,[["render",pe]]);A.register(...L);const me=N({components:{DoughnutChart:I},data(){return{dataLabels:null,toys:[]}},mounted(){this.fillData()},created(){this.toys=this.$store.getters.getToys,console.log(this.toys)},methods:{fillData(){this.dataLabels={labels:["Baby","Battery Powered","Doll","Outdoor","Puzzle"],datasets:[{backgroundColor:["#77CEFF","#0079AF","#123E6B","#97B0C4","#A5C8ED"],data:this.toysLabelsCount}]}},getRandomInt(){return Math.floor(Math.random()*(50-5+1))+5}},computed:{toysLabelsCount(){const t=this.toys.map(r=>r.labels);console.log("toysLabels",t);const e=t.reduce((r,d)=>(d.forEach(o=>{r[o]||(r[o]=0),r[o]++}),r),{});return console.log("labelCountMap",e),Object.values(e)}}}),he={key:0,class:"small"};function fe(t,e,r,d,o,n){const l=y("DoughnutChart");return t.toys?(i(),u("div",he,[_(l,{"chart-data":t.dataLabels},null,8,["chart-data"])])):k("",!0)}var F=m(me,[["render",fe]]);const ve={name:"toy-list",props:{toys:{type:Array,required:!0}},components:{toyPreview:_e,randomChart:F},methods:{removeToy(t){this.$emit("removeToy",t)}}},ge={class:"toy-list"};function be(t,e,r,d,o,n){const l=y("toy-preview");return i(),u("section",ge,[s("ul",null,[(i(!0),u(v,null,T(r.toys,c=>(i(),$(l,{onRemoveToy:n.removeToy,toy:c,key:c._id},null,8,["onRemoveToy","toy"]))),128))])])}var Te=m(ve,[["render",be]]);const ke={name:"toy-filter",data(){return{filterBy:{name:"",inStock:"",labels:[],sortBy:""},options:[{value:"On wheels",label:"On wheels"},{value:"Box game",label:"Box game"},{value:"Art",label:"Art"},{value:"Baby",label:"Baby"},{value:"Doll",label:"Doll"},{value:"Puzzle",label:"Puzzle"},{value:"Outdoor",label:"Outdoor"}]}},methods:{setFilter(){console.log(this.filterBy),this.$emit("setFilter",JSON.parse(JSON.stringify(this.filterBy)))}}},$e={class:"toy-filter"},Be=p(" Stock: "),Ce=s("option",{value:""},"All",-1),xe=s("option",{value:"true"},"In stock",-1),Ee=s("option",{value:"false"},"Not in stock",-1),we=[Ce,xe,Ee],Se=p(" Labels: "),De={style:{display:"inline-block","margin-left":"20px"}},Fe=s("p",{style:{"margin-left":"10px"}},":",-1),Me=p(" Sort By: "),Ae=s("option",{value:"time"},"Time",-1),Le=s("option",{value:"name"},"Name",-1),Ne=s("option",{value:"price"},"Price",-1),Ie=[Ae,Le,Ne];function Oe(t,e,r,d,o,n){const l=y("el-option"),c=y("el-select");return i(),u("section",$e,[g(s("input",{"onUpdate:modelValue":e[0]||(e[0]=a=>o.filterBy.name=a),onInput:e[1]||(e[1]=(...a)=>n.setFilter&&n.setFilter(...a)),type:"text",placeholder:"Search toy.."},null,544),[[w,o.filterBy.name]]),s("label",null,[Be,g(s("select",{onChange:e[2]||(e[2]=(...a)=>n.setFilter&&n.setFilter(...a)),"onUpdate:modelValue":e[3]||(e[3]=a=>o.filterBy.inStock=a)},we,544),[[D,o.filterBy.inStock]])]),s("label",null,[Se,s("div",De,[Fe,_(c,{modelValue:o.filterBy.labels,"onUpdate:modelValue":e[4]||(e[4]=a=>o.filterBy.labels=a),multiple:"","collapse-tags":"","collapse-tags-tooltip":"",onChange:n.setFilter,placeholder:"Select",style:{width:"240px"}},{default:f(()=>[(i(!0),u(v,null,T(o.options,a=>(i(),$(l,{key:a.value,label:a.label,value:a.value},null,8,["label","value"]))),128))]),_:1},8,["modelValue","onChange"])]),s("label",null,[Me,g(s("select",{onChange:e[5]||(e[5]=(...a)=>n.setFilter&&n.setFilter(...a)),"onUpdate:modelValue":e[6]||(e[6]=a=>o.filterBy.sortBy=a)},Ie,544),[[D,o.filterBy.sortBy]])])])])}var Pe=m(ke,[["render",Oe]]);const Ve={name:"toy-app",data(){return{}},methods:{removeToy(t){this.$store.dispatch({type:"removeToy",id:t})},setFilter(t){this.$store.dispatch({type:"filter",filterBy:t})}},computed:{toys(){return this.$store.getters.getToys}},components:{toyList:Te,toyFilter:Pe}},Re={class:"toy-app"},ze=p("Add a new toy");function Ue(t,e,r,d,o,n){const l=y("toy-filter"),c=y("router-link"),a=y("toy-list");return i(),u("section",Re,[_(l,{onSetFilter:n.setFilter},null,8,["onSetFilter"]),_(c,{class:"btn-add",to:"/edit"},{default:f(()=>[ze]),_:1}),n.toys?(i(),$(a,{key:0,onRemoveToy:n.removeToy,toys:n.toys},null,8,["onRemoveToy","toys"])):k("",!0)])}var Ge=m(Ve,[["render",Ue]]);const C="//localhost:3030/api/toy/",b={query:qe,getById:He,remove:je,save:Je,getEmptyToy:Ke};function qe(t){return B.get(C,{params:t}).then(e=>e.data)}function He(t){return B.get(C+t).then(e=>e.data)}function je(t){return B.delete(C+t)}function Je(t){return t._id?B.put(C+t._id,t).then(e=>e.data):B.post(C,t).then(e=>e.data)}function Ke(){return{_id:"",name:"",price:0,labels:["Doll","Battery Powered","Baby"],inStock:!0,reviews:["Good","Nice","Fun"]}}const We={name:"toy-details",data(){return{toy:null}},created(){const{id:t}=this.$route.params;b.getById(t).then(e=>{this.toy=e})},methods:{goBack(){this.$router.push("/")}},computed:{formattedDate(){return new Date(this.toy.createdAt).toDateString()}}},Qe={key:0,class:"toy-details"},Xe=s("span",null,"Ids:",-1),Ye=s("p",null,[s("span",null,"Categories:")],-1),Ze=s("span",null,"PRICE:",-1),et=s("span",null,"Placed on store at:",-1),tt=s("h4",null,"Reviews:",-1);function ot(t,e,r,d,o,n){return o.toy?(i(),u("section",Qe,[s("article",null,[s("h2",null,"Name: "+h(o.toy.name),1),s("h4",null,[Xe,p(" "+h(o.toy._id),1)]),Ye,(i(!0),u(v,null,T(o.toy.labels,l=>(i(),u("p",{key:l},h(l),1))),128)),s("p",null,[Ze,p(" "+h(o.toy.price),1)]),s("p",null,[et,p(" "+h(n.formattedDate),1)]),tt,s("ul",null,[o.toy.reviews?(i(!0),u(v,{key:0},T(o.toy.reviews,l=>(i(),u("li",{key:l},[s("p",null,"Review: "+h(l),1)]))),128)):k("",!0)])]),s("button",{onClick:e[0]||(e[0]=(...l)=>n.goBack&&n.goBack(...l))},"go back")])):k("",!0)}var st=m(We,[["render",ot]]);const nt={name:"toy-edit",data(){return{toyToEdit:null}},created(){const{id:t}=this.$route.params;t?b.getById(t).then(e=>{this.toyToEdit=e}):this.toyToEdit=b.getEmptyToy()},methods:{goBack(){this.$router.push("/")},save(){console.log("this.toyToEdit",this.toyToEdit),this.$store.dispatch({type:"saveToy",toy:this.toyToEdit}).then(()=>{this.$router.push("/")})}}},rt={key:0},lt=s("button",null,"Save",-1);function it(t,e,r,d,o,n){return o.toyToEdit?(i(),u("section",rt,[s("pre",null,h(o.toyToEdit),1),s("form",{onSubmit:e[3]||(e[3]=P((...l)=>n.save&&n.save(...l),["prevent"]))},[g(s("input",{type:"text",placeholder:"Toy name?","onUpdate:modelValue":e[0]||(e[0]=l=>o.toyToEdit.name=l)},null,512),[[w,o.toyToEdit.name]]),g(s("input",{type:"number","onUpdate:modelValue":e[1]||(e[1]=l=>o.toyToEdit.price=l)},null,512),[[w,o.toyToEdit.price]]),g(s("input",{type:"checkbox","onUpdate:modelValue":e[2]||(e[2]=l=>o.toyToEdit.inStock=l)},null,512),[[O,o.toyToEdit.inStock]]),lt],32)])):k("",!0)}var at=m(nt,[["render",it]]);const ut={name:"App",data(){return{center:{lat:32.088179,lng:34.790144},markers:[{position:{lat:32.088179,lng:34.790144}},{position:{lat:32.066278,lng:34.830301}},{position:{lat:32.093869,lng:34.882401}}]}}};function ct(t,e,r,d,o,n){const l=y("GMapMarker"),c=y("GMapCluster"),a=y("GMapMap");return i(),$(a,{center:o.center,zoom:10,"map-type-id":"terrain",style:{width:"100vw",height:"900px"}},{default:f(()=>[_(c,null,{default:f(()=>[(i(!0),u(v,null,T(o.markers,(S,M)=>(i(),$(l,{key:M,position:S.position,clickable:!0,draggable:!0,onClick:mt=>o.center=S.position},null,8,["position","onClick"]))),128))]),_:1})]),_:1},8,["center"])}var dt=m(ut,[["render",ct]]);const yt=V({history:R("/"),routes:[{path:"/",name:"App",component:Ge},{path:"/details/:id",name:"toy-details",component:st},{path:"/edit/:id?",name:"toy-edit",component:at},{path:"/toy-chart",name:"toy-chart",component:F},{path:"/about",name:"about",component:dt}]});var pt={state:{toys:null,filterBy:null},getters:{getToys(t){return console.log("getting toys from store",t.toys),t.toys}},mutations:{setToys(t,{toys:e}){t.toys=e},removeToy(t,{id:e}){const r=t.toys.findIndex(d=>d._id===e);t.toys.splice(r,1)},saveToy(t,{toy:e}){console.log(e);const r=t.toys.findIndex(d=>d._id===e._id);r!==-1?t.toys.splice(r,1,e):t.toys.push(e)},setFilter(t,{filterBy:e}){t.filterBy=e}},actions:{loadToys({commit:t,state:e}){b.query(e.filterBy).then(r=>{t({type:"setToys",toys:r})})},removeToy({commit:t},{id:e}){b.remove(e).then(()=>{t({type:"removeToy",id:e})})},saveToy({commit:t},{toy:e}){console.log(e),b.save(e).then(r=>{t({type:"saveToy",toy:r})})},filter({commit:t,dispatch:e},{filterBy:r}){t({type:"setFilter",filterBy:r}),e({type:"loadToys"})}}};const _t=z({strict:!0,state:{},getters:{},mutations:{},actions:{},modules:{toyStore:pt}});const x=U(se);x.use(G,{load:{key:"AIzaSyBywa1co0r0B4Etra4c-McqtPtIuNNICgU",language:"de"}});x.use(yt);x.use(_t);x.use(q);x.mount("#app");
